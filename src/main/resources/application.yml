spring:
  application:
    name: stock-alert

  # MySQL Database Configuration
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/stock_alert?useSSL=false&useUnicode=true&serverTimezone=Asia/Seoul&allowPublicKeyRetrieval=true
    username: stock_user
    password: stock_password

  # JPA Configuration
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true
        show_sql: true
    show-sql: true
    open-in-view: false

  # Redis Configuration
  data:
    redis:
      host: localhost
      port: 6379

stock:
  api:
    # 한국투자증권 Open API 설정
    kis:
      base-url: https://openapi.koreainvestment.com:9443
      app-key: ${KIS_APP_KEY:your-app-key}
      app-secret: ${KIS_APP_SECRET:your-app-secret}

    # 기타 주식 API (확장 가능)
    # yahoo:
    #   base-url: https://query1.finance.yahoo.com
    # alpha-vantage:
    #   api-key: ${ALPHA_VANTAGE_KEY:your-api-key}

monitoring:
  stock:
    # 주식 가격 업데이트 주기 (초)
    update-interval: 60
    # 알림 체크 주기 (초)
    alert-check-interval: 30
    # 배치 처리 크기
    batch-size: 100

logging:
  level:
    root: INFO
    sotck.stockalert: DEBUG
    org.springframework.web: INFO
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%X{correlationId:-NO_CORRELATION_ID}] [%X{userId:-anonymous}] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%X{correlationId:-NO_CORRELATION_ID}] [%X{userId:-anonymous}] %-5level %logger{36} - %msg%n"
  file:
    name: logs/stock-alert.log
    max-size: 10MB
    max-history: 30